// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.19.0
// source: tractor_unit.sql

package db

import (
	"context"
	"database/sql"
)

const createTractorUnit = `-- name: CreateTractorUnit :one
INSERT INTO public.tractor_unit
(id, license_plate, driver_id, user_id, chassis, brand, model, manufacture_year, engine_power, unit_type, can_couple, height, axles, status, created_at)
VALUES(nextval('tractor_unit_id_seq'::regclass), $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, true, now())
    RETURNING id, license_plate, driver_id, user_id, chassis, brand, model, manufacture_year, engine_power, unit_type, can_couple, height, axles, status, created_at, updated_at
`

type CreateTractorUnitParams struct {
	LicensePlate    string          `json:"license_plate"`
	DriverID        int64           `json:"driver_id"`
	UserID          int64           `json:"user_id"`
	Chassis         string          `json:"chassis"`
	Brand           string          `json:"brand"`
	Model           string          `json:"model"`
	ManufactureYear sql.NullInt32   `json:"manufacture_year"`
	EnginePower     sql.NullString  `json:"engine_power"`
	UnitType        sql.NullString  `json:"unit_type"`
	CanCouple       sql.NullBool    `json:"can_couple"`
	Height          sql.NullFloat64 `json:"height"`
	Axles           int64           `json:"axles"`
}

func (q *Queries) CreateTractorUnit(ctx context.Context, arg CreateTractorUnitParams) (TractorUnit, error) {
	row := q.db.QueryRowContext(ctx, createTractorUnit,
		arg.LicensePlate,
		arg.DriverID,
		arg.UserID,
		arg.Chassis,
		arg.Brand,
		arg.Model,
		arg.ManufactureYear,
		arg.EnginePower,
		arg.UnitType,
		arg.CanCouple,
		arg.Height,
		arg.Axles,
	)
	var i TractorUnit
	err := row.Scan(
		&i.ID,
		&i.LicensePlate,
		&i.DriverID,
		&i.UserID,
		&i.Chassis,
		&i.Brand,
		&i.Model,
		&i.ManufactureYear,
		&i.EnginePower,
		&i.UnitType,
		&i.CanCouple,
		&i.Height,
		&i.Axles,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const deleteTractorUnit = `-- name: DeleteTractorUnit :exec
UPDATE public.tractor_unit
SET status=false, updated_at=now()
WHERE id=$1
`

func (q *Queries) DeleteTractorUnit(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deleteTractorUnit, id)
	return err
}

const getTractorUnitById = `-- name: GetTractorUnitById :one
SELECT id, license_plate, driver_id, user_id, chassis, brand, model, manufacture_year, engine_power, unit_type, can_couple, height, axles, status, created_at, updated_at
FROM public.tractor_unit
WHERE id=$1
`

func (q *Queries) GetTractorUnitById(ctx context.Context, id int64) (TractorUnit, error) {
	row := q.db.QueryRowContext(ctx, getTractorUnitById, id)
	var i TractorUnit
	err := row.Scan(
		&i.ID,
		&i.LicensePlate,
		&i.DriverID,
		&i.UserID,
		&i.Chassis,
		&i.Brand,
		&i.Model,
		&i.ManufactureYear,
		&i.EnginePower,
		&i.UnitType,
		&i.CanCouple,
		&i.Height,
		&i.Axles,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const updateTractorUnit = `-- name: UpdateTractorUnit :one
UPDATE public.tractor_unit
SET license_plate=$1, driver_id=$2, chassis=$3, brand=$4, model=$5, manufacture_year=$6, engine_power=$7, unit_type=$8, height=$9, user_id=$10, axles=$11, updated_at=now()
WHERE id=$12
    RETURNING id, license_plate, driver_id, user_id, chassis, brand, model, manufacture_year, engine_power, unit_type, can_couple, height, axles, status, created_at, updated_at
`

type UpdateTractorUnitParams struct {
	LicensePlate    string          `json:"license_plate"`
	DriverID        int64           `json:"driver_id"`
	Chassis         string          `json:"chassis"`
	Brand           string          `json:"brand"`
	Model           string          `json:"model"`
	ManufactureYear sql.NullInt32   `json:"manufacture_year"`
	EnginePower     sql.NullString  `json:"engine_power"`
	UnitType        sql.NullString  `json:"unit_type"`
	Height          sql.NullFloat64 `json:"height"`
	UserID          int64           `json:"user_id"`
	Axles           int64           `json:"axles"`
	ID              int64           `json:"id"`
}

func (q *Queries) UpdateTractorUnit(ctx context.Context, arg UpdateTractorUnitParams) (TractorUnit, error) {
	row := q.db.QueryRowContext(ctx, updateTractorUnit,
		arg.LicensePlate,
		arg.DriverID,
		arg.Chassis,
		arg.Brand,
		arg.Model,
		arg.ManufactureYear,
		arg.EnginePower,
		arg.UnitType,
		arg.Height,
		arg.UserID,
		arg.Axles,
		arg.ID,
	)
	var i TractorUnit
	err := row.Scan(
		&i.ID,
		&i.LicensePlate,
		&i.DriverID,
		&i.UserID,
		&i.Chassis,
		&i.Brand,
		&i.Model,
		&i.ManufactureYear,
		&i.EnginePower,
		&i.UnitType,
		&i.CanCouple,
		&i.Height,
		&i.Axles,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
